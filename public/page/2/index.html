<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.147.4"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Daniel Schaaff</title>
<meta name="keywords" content="blog, developer, personal">
<meta name="description" content="My humble home on the internet.">
<meta name="author" content="Daniel Schaaff">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="Daniel Schaaff">
  <meta property="og:title" content="Daniel Schaaff">
  <meta property="og:description" content="My humble home on the internet.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Daniel Schaaff">
<meta name="twitter:description" content="My humble home on the internet.">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Daniel Schaaff",
  "url": "http://localhost:1313/",
  "description": "My humble home on the internet.",
  "logo": "http://localhost:1313/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Daniel Schaaff (Alt + H)">Daniel Schaaff</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/cv/" title="CV">
                    <span>CV</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search">
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Exporting Pagerduty Incident Data
    </h2>
  </header>
  <div class="entry-content">
    <p>Pagerduty provides a built-in way to export your incident data but only a limited number of data fields are available on the basic plan. Rather than upgrade you can use the API to export the data to a CSV. I found this gist listed here. The python script works great but some of my incident messages contained JSON data that threw off Excel when opening the CSV. I slightly modified the script with character escaping to work around this (lines 98- 107).
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-11-21 16:37:54 +0000 UTC'>November 21, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Exporting Pagerduty Incident Data" href="http://localhost:1313/posts/2017/exporting-pagerduty-incident-data/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Escaping Characters in Jenkins Declarative Pipelines
    </h2>
  </header>
  <div class="entry-content">
    <p>I spent way too long troubleshooting a script step in a Jenkins declarative pipeline this week. After lots of frustration I stumbled upon this gist that was a life saver. Long story short you need \\ to escape literal quotes.
</p>
  </div>
  <footer class="entry-footer"><span title='2017-10-06 23:19:08 +0000 UTC'>October 6, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Escaping Characters in Jenkins Declarative Pipelines" href="http://localhost:1313/posts/2017/escaping-characters-in-jenkins-declarative-pipelines/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Bash Function to SSH into ec2 Instances
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve often found myself with an instance id that I want to login to look at something. It sucks looking up the IP when you don’t know the DNS name. I’m sure there are other ways to do this but here is what I came up with.
getec2ip() { aws ec2 describe-instances --instance-ids $1 | jq [.Reservations[0].Instances[0].PrivateIpAddress] | jq --raw-output .[] } assh() { host=$(getec2ip ${1}) ssh user@${host} } This relies on the aws cli and jq to parse out the ip and has made it much easier for me to quickly hop on an instance.
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-08-17 21:15:40 +0000 UTC'>August 17, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Bash Function to SSH into ec2 Instances" href="http://localhost:1313/posts/2017/bash-function-to-ssh-into-ec2-instances/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Jenkins Dynamic EC2 Executors
    </h2>
  </header>
  <div class="entry-content">
    <p>There is a nice plugin for Jenkins that lets you dynamically add capacity by spinning up EC2 instances on demand and then terminating them when the job queue expires. This is a great way to save money on an AWS based build infrastructure.
Unfortunately, the plugin documentation is really light and there are a few gotchas to look out for.
Security Groups This field only accepts comma separated security group IDs, not names. This is frustrating because other fields in the plugin take a space separated list (e.g. labels)
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-07-25 22:50:10 +0000 UTC'>July 25, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Jenkins Dynamic EC2 Executors" href="http://localhost:1313/posts/2017/844/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Speeding up RSpec Tests in Bamboo
    </h2>
  </header>
  <div class="entry-content">
    <p>Now that roles and profiles are in my control repo my RSpec tests are taking longer then ever. As of this writing the control repo contains 938 tests and I’m still a long way from 100% coverage. This really slows down the feedback loop when running tests. When running locally I often just run RSpec against a specific spec file rather then run the whole test suite, but I still wanted a way to speed things up in Bamboo.
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-03-29 18:18:23 +0000 UTC'>March 29, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Speeding up RSpec Tests in Bamboo" href="http://localhost:1313/posts/2017/speeding-up-rspec-tests-in-bamboo/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Tackling Tech Debt in Puppet
    </h2>
  </header>
  <div class="entry-content">
    <p>I spent some time tackling technical debt in our Puppet code this week. The biggest outstanding item was implementing eyaml for protecting secrets in Hiera. I’d also been encouraging developers to contribute to the Puppet code base for some time, but they were restricted from the control repo due to some secrets kept in Hiera. This put a big damper on collaboration as Hiera is the data engine for our roles and profiles. Separate git repos were also used for the profile and role modules due to this workflow.
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-03-29 18:02:00 +0000 UTC'>March 29, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Tackling Tech Debt in Puppet" href="http://localhost:1313/posts/2017/tackling-tech-debt-in-puppet/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Update to lita-activedirectory
    </h2>
  </header>
  <div class="entry-content">
    <p>I updated our Active Directory lita plugin today with support for querying the members of a given group. See https://github.com/knuedge/lita-activedirectory. It still needs some work to properly present errors when a user or group doesn’t actually exist in the directory. Right now it returns nothing rather then a helpful error. It works splendidly with legit users and groups however.
ChatOps ftw!
</p>
  </div>
  <footer class="entry-footer"><span title='2017-03-21 02:24:20 +0000 UTC'>March 21, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Update to lita-activedirectory" href="http://localhost:1313/posts/2017/update-to-lita-activedirectory/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Automated Puppet Tests with Bamboo
    </h2>
  </header>
  <div class="entry-content">
    <p>rnelson0 is walking through automated Puppet testing with Jenkins on his blog. I thought I’d highlight how you can use a similar workflow in Atlassian’s Bamboo application. This assumes you already have a working Bamboo setup and are familiar with the general process for testing Puppet modules with rspec.
Create a new plan The first step is to set up a new plan to use for the testing. Click “Create” and then “Create a new plan” in the top menu bar.![Pasted_Image_1_13_17__3_08_PM.png]({{ site.url }}/assets/img/pasted_image_1_13_17__3_08_pm.png)
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-01-14 00:07:47 +0000 UTC'>January 14, 2017</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Automated Puppet Tests with Bamboo" href="http://localhost:1313/posts/2017/automated-puppet-tests-with-bamboo/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Finishing the Puppet 4 Migration
    </h2>
  </header>
  <div class="entry-content">
    <p>Two days ago I finished our migration to Puppet 4. Overall I’d say the process was pretty painless. The gist of what I did
start running rspec tests against Puppet 4
fix issues found in tests
run the catalog preview tool and fix any issues found
turn on the future parser on the existing master
turn off stringify facts
create new master and PuppeDB server
migrate agents to new master
Thankfully our code wasn’t too difficult to update and most of the forge modules we use had also been updated.
...</p>
  </div>
  <footer class="entry-footer"><span title='2016-12-23 23:19:07 +0000 UTC'>December 23, 2016</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Finishing the Puppet 4 Migration" href="http://localhost:1313/posts/2016/finishing-the-puppet-4-migration/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Code Keyboard Tenkeyless - Massdrop
    </h2>
  </header>
  <div class="entry-content">
    <p>My favorite keyboard is up on Massdrop again. I highly recommend it.
For the nerds keeping score I waffle between brown and blue switches(the clears made my fingers tired).
https://www.massdrop.com/buy/code-keyboard-tenkeyless?referer=FNWB57
</p>
  </div>
  <footer class="entry-footer"><span title='2016-12-23 15:13:24 +0000 UTC'>December 23, 2016</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;dschaaff</footer>
  <a class="entry-link" aria-label="post link to Code Keyboard Tenkeyless - Massdrop" href="http://localhost:1313/posts/2016/code-keyboard-tenkeyless-massdrop/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/">
      «&nbsp;Prev&nbsp;1/23
    </a>
    <a class="next" href="http://localhost:1313/page/3/">Next&nbsp;3/23&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Daniel Schaaff</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
